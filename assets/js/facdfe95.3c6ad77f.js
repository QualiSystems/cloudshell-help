"use strict";(self.webpackChunkcloudshell_help=self.webpackChunkcloudshell_help||[]).push([[9132],{44605:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var i=s(74848),r=s(28453);const t={sidebar_position:1},l="Setting up Training Portal Using the Installer (Over the Shoulder)",a={id:"install-configure/qualix/training-portal/setting-up-using-installer",title:"Setting up Training Portal Using the Installer (Over the Shoulder)",description:"Prerequisites",source:"@site/versioned_docs/version-2023.3/install-configure/qualix/training-portal/setting-up-using-installer.md",sourceDirName:"install-configure/qualix/training-portal",slug:"/install-configure/qualix/training-portal/setting-up-using-installer",permalink:"/2023.3/install-configure/qualix/training-portal/setting-up-using-installer",draft:!1,unlisted:!1,editUrl:"https://github.com/QualiSystems/cloudshell-help/tree/main/versioned_docs/version-2023.3/install-configure/qualix/training-portal/setting-up-using-installer.md",tags:[],version:"2023.3",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Training Portal (Over the Shoulder)",permalink:"/2023.3/install-configure/qualix/training-portal/"},next:{title:"Setting up Training Portal Using Docker (Over the Shoulder)",permalink:"/2023.3/install-configure/qualix/training-portal/setting-up-using-docker"}},o={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"Customization options",id:"customization-options",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Setting up a new training session",id:"setting-up-a-new-training-session",level:2},{value:"HTTPS Configuration",id:"https-configuration",level:2},{value:"Related Topics",id:"related-topics",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"setting-up-training-portal-using-the-installer-over-the-shoulder",children:"Setting up Training Portal Using the Installer (Over the Shoulder)"})}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"NodeJS 14"}),"\n",(0,i.jsx)(n.li,{children:"CloudShell 2020.1 GA or higher"}),"\n",(0,i.jsx)(n.li,{children:"QualiX 3.2 or higher"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"To install and configure Training Portal:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Download and extract the Training Portal installation package from ",(0,i.jsx)(n.a,{href:"https://github.com/QualiSystemsLab/Training-Portal",children:"https://github.com/QualiSystemsLab/Training-Portal"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Set the Sandbox API endpoint by creating the following environment variable:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Variable name: QS_SANDBOX_API"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Variable value: http://<Sandbox-API-IP>:<Sandbox-API-Port>"}),"\n",(0,i.jsxs)(n.p,{children:["For example: ",(0,i.jsx)(n.a,{href:"http://192.32.4.122:82",children:"http://192.32.4.122:82"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"In Command-Prompt, navigate to the root folder of the Training Portal and run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"npm install\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"npm run-script build\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"node index.js\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"customization-options",children:"Customization options"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Perform the desired customization:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["White-labeling: Override the ",(0,i.jsx)(n.code,{children:"\\training-portal\\src\\assets\\white-label-logo.png"})," image file with the new logo (keep the same file name)."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Instructions pane width:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Open the ",(0,i.jsx)(n.code,{children:"\\training-portal\\src\\components\\Instructions.js"})," file."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Locate the line:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"export const instructionsDrawerWidth = '350px';\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Set the desired instructions pane width, in pixels."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Save the file."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Rerun:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"run-script build\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["In some cases, like changing packages, you might need to re-run the ",(0,i.jsx)(n.code,{children:"npm install"})," as well."]})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Restart the ",(0,i.jsx)(n.strong,{children:"CloudShell Portal IIS"})," service."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"In the Quali Server machine, open the following file in a text editor:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"C:\\ProgramData\\QualiSystems\\Settings\\Global\\ServerUniversalSettings.xml"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Do the following under the ",(0,i.jsx)(n.code,{children:'<ConfigurationSection name="LinkApplications">'})," tag:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Copy the appropriate Full link(s):"}),"\n",(0,i.jsx)(n.admonition,{type:"important",children:(0,i.jsxs)(n.p,{children:["Make sure to use these links and not the ones in ",(0,i.jsx)(n.a,{href:"/2023.3/install-configure/qualix/post-installation-config/configure-remote-access",children:"Configure Remote Access to Sandbox Components Using SSH, RDP, Telnet, VNC (QualiX)"}),"."]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"SSH Full link:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'<key name="SSH - Full" pattern="http://<QualiX IP>/remote/#/client/c/ssh{qid}?qtoken={qtoken}&amp;hostname={Address}&amp;protocol=ssh&amp;port=22&amp;username={User}&amp;password={Password}" icon-key="SSH" />\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"RDP Full link:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'<key name="RDP - Full" pattern="http://<QualiX IP>/remote/#/client/c/rdp{qid}?qtoken={qtoken}&amp;hostname={Address}&amp;protocol=rdp&amp;port=3389&amp;username={User}&amp;password={Password}&amp;security=any&amp;ignore-cert=true" icon-key="RDP" />\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Copy the appropriate Read only or Full access link from the sections below:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Read only links"})}),"\n",(0,i.jsx)(n.p,{children:'In "read only" mode, the user can only view the session but not move elements or click buttons and links on the connected device.'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'<key name="SSH - ReadOnly" pattern="http://<Qualix IP>/remote/#/client/c/ssh{qid}sharedr?qtoken={qtoken}&amp;hostname={Address}&amp;protocol=ssh&amp;port=22&amp;username={User}&amp;password={Password}&amp;shared=true&amp;readonly=true" icon-key="SSH" />\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'<key name="RDP - ReadOnly" pattern="http://<Qualix IP>/remote/#/client/c/rdp{qid}sharedr?qtoken={qtoken}&amp;hostname={Address}&amp;protocol=rdp&amp;port=3389&amp;username={User}&amp;password={Password}&amp;security=any&amp;ignore-cert=true&amp;shared=true&amp;readonly=true" icon-key="RDP" />\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Read/Write access links"})}),"\n",(0,i.jsx)(n.p,{children:"A full access connection grants the user full permissions on the device or VM's OS. However, since this is a shared link, it can only access existing connections but not create them."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'<key name="SSH - ReadWrite" pattern="http://<Qualix IP>/remote/#/client/c/ssh{qid}shared?qtoken={qtoken}&amp;hostname={Address}&amp;protocol=ssh&amp;port=22&amp;username={User}&amp;password={Password}&amp;shared=true&amp;readonly=false" icon-key="SSH" />\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'<key name="RDP - ReadWrite" pattern="http://<Qualix IP>/remote/#/client/c/rdp{qid}shared?qtoken={qtoken}&amp;hostname={Address}&amp;protocol=rdp&amp;port=3389&amp;username={User}&amp;password={Password}&amp;security=any&amp;ignore-cert=true&amp;shared=true&amp;readonly=false" icon-key="RDP"/>\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In each link, replace ",(0,i.jsx)(n.code,{children:"<QualiX IP>"})," with the QualiX Server hostname or IP address."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Save the file."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Restart the ",(0,i.jsx)(n.strong,{children:"Quali Server"})," service."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"In Resource Manager Client, create a user for the trainee with access to the appropriate domain."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"setting-up-a-new-training-session",children:"Setting up a new training session"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"In REST API, create an access token for the training session:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Open the Training Portal's live documentation page:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"http://\\[CloudShellPortalAddress\\]:82/api/explore/#/\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Log in to the user's domain."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Expand the ",(0,i.jsx)(n.strong,{children:"POST /token"})," API method."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(50220).A+"",width:"499",height:"248"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click inside the ",(0,i.jsx)(n.strong,{children:"Model Schema"})," area to load the request body."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(55833).A+"",width:"961",height:"471"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In the ",(0,i.jsx)(n.strong,{children:"body"})," area, replace ",(0,i.jsx)(n.strong,{children:"user.name"})," with the trainee's CloudShell user name (do not remove the quotes)."]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(95304).A+"",width:"962",height:"465"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click ",(0,i.jsx)(n.strong,{children:"Try it out!"}),"."]}),"\n",(0,i.jsx)(n.p,{children:'A Response Code of "200" indicates success.'}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Copy the access token from the ",(0,i.jsx)(n.strong,{children:"Response Body"}),", without the quotes."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Build the training portal link:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"http://<TrainingPortaUrl>:3001/<SandboxId>?access=<AccessToken>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Where:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"<TrainingPortalUrl>"})," is the url defined in the ",(0,i.jsx)(n.code,{children:"package.json"}),' ("3001" is the default Training Portal port)']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"<SandboxId>"})," is the sandbox ID (taken from the sandbox's URL)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"<AccessToken>"})," is the access token you copied from the POST /token API's ",(0,i.jsx)(n.strong,{children:"Response Body"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"http://112.78.85.27:3001/645b57f6-9ea3-4968-aa92-900bf3ee5be8?access=NEapY8Cnqk6JYPNAt7il5w2\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"Tips",type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["By default, when starting the Training Portal with the ",(0,i.jsx)(n.code,{children:"node index.js"})," command, it will start listening on port 3001. This is a value that is coming from inside the ",(0,i.jsx)(n.code,{children:"index.js"})," file. If you prefer a different port, you should edit the file."]}),"\n",(0,i.jsxs)(n.li,{children:["Use a tool like pm2 to make the process run as a service (",(0,i.jsx)(n.a,{href:"https://pm2.keymetrics.io/",children:"https://pm2.keymetrics.io/"}),")."]}),"\n"]})}),"\n",(0,i.jsx)(n.p,{children:"The trainee uses this link to work in the sandbox, which looks something like this:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(98232).A+"",width:"605",height:"333"})}),"\n",(0,i.jsx)(n.p,{children:"Over-the-shoulder users access the trainee's QualiX session from the sandbox, via the resource or App's remote access links."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"https-configuration",children:"HTTPS Configuration"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Prepare the Certificate Files:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Obtain or generate the server certificate key and PEM files."}),"\n",(0,i.jsx)(n.li,{children:"Copy the files to the Training Portal server."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Ensure you have the full path to the PEM and key files."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Stop the Training Portal server."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Open a command prompt window."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Run the appropriate commands to create the necessary environment variables:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"For Windows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"set PROTOCOL=https\nset SSL_CRT_FILE=C:\\qs\\Training-Portal\\cert\\server.pem\nset SSL_KEY_FILE=C:\\qs\\Training-Portal\\cert\\server.key\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"Make sure to replace the path and name with the actual full path and name to the certificate files on your system."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"For Linux:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"export PROTOCOL=https\nexport SSLCRTFILE=./server.pem\nexport SSLKEYFILE=./server.key\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start the Training Portal server."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Run"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"node index.js\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"related-topics",children:"Related Topics"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/2023.3/install-configure/qualix/training-portal/welcome-to-your-training-session",children:"Welcome to your training session!"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},98232:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/TrainingSandbox-4cf2fc8a5a219003d9dd2eaaa10a6c9b.png"},55833:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/TrainingPortalModelSchema-3a5c93e29e940c381c0f11e6b675f6b7.png"},95304:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/TrainingPortalRequestBody-db626cfadc4b97f89ab2603f432881db.png"},50220:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/TrainingPortalRestApi_499x248-0ce0e8033b7a71e5431a148f9cfcca2a.png"},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var i=s(96540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);
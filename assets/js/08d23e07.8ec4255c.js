"use strict";(self.webpackChunkcloudshell_help=self.webpackChunkcloudshell_help||[]).push([["63207"],{12655:function(e,l,n){n.r(l),n.d(l,{frontMatter:()=>o,toc:()=>c,default:()=>u,metadata:()=>s,assets:()=>d,contentTitle:()=>r});var s=JSON.parse('{"id":"install-configure/cloudshell-suite/new-jss-install-config/high-level-install-flow/modify-cloudshell","title":"Modify CloudShell to Use the Kubernetes-based Services","description":"Once the New Job Scheduling infrastructure deployment completes, you need to do the following in order to configure CloudShell Server to use its components:","source":"@site/versioned_docs/version-2023.3/install-configure/cloudshell-suite/new-jss-install-config/high-level-install-flow/modify-cloudshell.md","sourceDirName":"install-configure/cloudshell-suite/new-jss-install-config/high-level-install-flow","slug":"/install-configure/cloudshell-suite/new-jss-install-config/high-level-install-flow/modify-cloudshell","permalink":"/2023.3/install-configure/cloudshell-suite/new-jss-install-config/high-level-install-flow/modify-cloudshell","draft":false,"unlisted":false,"editUrl":"https://github.com/QualiSystems/cloudshell-help/tree/main/versioned_docs/version-2023.3/install-configure/cloudshell-suite/new-jss-install-config/high-level-install-flow/modify-cloudshell.md","tags":[],"version":"2023.3","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Set the Mongo, Rabbit and Sandbox Services to Use Static IPs","permalink":"/2023.3/install-configure/cloudshell-suite/new-jss-install-config/high-level-install-flow/customize-deployment/set-static-ip"},"next":{"title":"Deploy the New Job Scheduling Infrastructure using Helm","permalink":"/2023.3/install-configure/cloudshell-suite/new-jss-install-config/high-level-install-flow/deploy-jss-with-helm"}}'),t=n(74848),i=n(84429);let o={sidebar_position:2},r="Modify CloudShell to Use the Kubernetes-based Services",d={},c=[];function a(e){let l={a:"a",code:"code",h1:"h1",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.header,{children:(0,t.jsx)(l.h1,{id:"modify-cloudshell-to-use-the-kubernetes-based-services",children:"Modify CloudShell to Use the Kubernetes-based Services"})}),"\n",(0,t.jsx)(l.p,{children:"Once the New Job Scheduling infrastructure deployment completes, you need to do the following in order to configure CloudShell Server to use its components:"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"Enable the Kubernetes cluster components to receive inbound communication from the Quali Server."}),"\n",(0,t.jsx)(l.li,{children:"Configure CloudShell to use these Kubernetes-based services instead of the out-of-the-box versions that are embedded in Quali Server"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"To modify CloudShell to use the Kubernetes-based services:"})}),"\n",(0,t.jsxs)(l.ol,{children:["\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsxs)(l.p,{children:["Verify the External IP\xa0addresses of the ",(0,t.jsx)(l.code,{children:"sandbox-service-svc"})," and ",(0,t.jsx)(l.code,{children:"cloudshell-rabbitmq-ha"})," Kubernetes services. This can be achieved by running the following command:"]}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-python",children:"kubectl get svc -n cloudshell\n"})}),"\n",(0,t.jsxs)(l.p,{children:["From the below output example, you will need the ",(0,t.jsx)(l.strong,{children:"External IP"})," and ",(0,t.jsx)(l.strong,{children:"Port(s)"})," details for the above services:"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.img,{src:n(63585).A+"",width:"958",height:"200"})}),"\n",(0,t.jsxs)(l.p,{children:["For more details about ",(0,t.jsx)(l.code,{children:"kubectl get"}),", see the official Kubernetes documentation at: ",(0,t.jsx)(l.a,{href:"https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#get",children:"https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#get"})]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"Open the C:\\Program Files (x86)\\QualiSystems\\CloudShell\\Server\\customer.config file."}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"Add the following keys and set the external IPs:"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-xml",children:'<add key="UseEmbeddedSandboxService" value="False"/>\n<add key="SandboxServiceHost" value="<sandbox-service-svc-external-ip>"/>\n<add key="SandboxServiceRestPort" value="<port-number>"/>\n<add key="RabbitHostname" value="<cloudshell-rabbitmq-ha-external-ip>"/>\n<add key="RabbitPort" value="<port-number>"/>\n'})}),"\n",(0,t.jsx)(l.p,{children:"For example:"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-xml",children:'<add key="UseEmbeddedSandboxService" value="False"/>\n<add key="SandboxServiceHost" value="192.168.70.204"/>\n<add key="SandboxServiceRestPort" value="8888"/>\n<add key="RabbitHostname" value="192.168.70.201"/>\n<add key="RabbitPort" value="5671"/>\n'})}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"Save the file."}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"Rerun the Quali Server configuration wizard."}),"\n"]}),"\n"]})]})}function u(e={}){let{wrapper:l}={...(0,i.R)(),...e.components};return l?(0,t.jsx)(l,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},63585:function(e,l,n){n.d(l,{A:()=>s});let s=n.p+"assets/images/ExternalIps-9153fbcae54c4b2b29d09d10b9d4c832.png"},84429:function(e,l,n){n.d(l,{R:()=>o,x:()=>r});var s=n(96540);let t={},i=s.createContext(t);function o(e){let l=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function r(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(i.Provider,{value:l},e.children)}}}]);
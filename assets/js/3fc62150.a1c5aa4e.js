"use strict";(self.webpackChunkcloudshell_help=self.webpackChunkcloudshell_help||[]).push([[98184],{75912:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var n=o(17624),s=o(4552);const r={sidebar_position:11},i="VM is not Powered off at the End of a Reservation",l={id:"troubleshooting/cloudshell-portal/vm-is-not-powered-off-at-the-end-of-a-reservation",title:"VM is not Powered off at the End of a Reservation",description:"Description",source:"@site/docs/troubleshooting/cloudshell-portal/vm-is-not-powered-off-at-the-end-of-a-reservation.md",sourceDirName:"troubleshooting/cloudshell-portal",slug:"/troubleshooting/cloudshell-portal/vm-is-not-powered-off-at-the-end-of-a-reservation",permalink:"/cloudshell-help/next/troubleshooting/cloudshell-portal/vm-is-not-powered-off-at-the-end-of-a-reservation",draft:!1,unlisted:!1,editUrl:"https://github.com/QualiSystems/cloudshell-help/tree/main/docs/troubleshooting/cloudshell-portal/vm-is-not-powered-off-at-the-end-of-a-reservation.md",tags:[],version:"current",lastUpdatedAt:1715711019e3,sidebarPosition:11,frontMatter:{sidebar_position:11},sidebar:"tutorialSidebar",previous:{title:"VM is not Powered on at the Start of a Reservation",permalink:"/cloudshell-help/next/troubleshooting/cloudshell-portal/vm-is-not-powered-on-at-the-start-of-a-reservation"},next:{title:'vCenter Resource Discovery Error: "Discovery failed for resource"',permalink:"/cloudshell-help/next/troubleshooting/cloudshell-portal/vcenter-resource-discovery-error-discovery-failed-for-resource"}},a={},d=[{value:"Description",id:"description",level:2},{value:"Possible Causes",id:"possible-causes",level:2},{value:"Solution",id:"solution",level:2},{value:"Related Topics",id:"related-topics",level:2}];function c(e){const t={a:"a",admonition:"admonition",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.M)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"vm-is-not-powered-off-at-the-end-of-a-reservation",children:"VM is not Powered off at the End of a Reservation"}),"\n",(0,n.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,n.jsx)(t.p,{children:"The VM is not automatically powered off by CloudShell at the end of the sandbox."}),"\n",(0,n.jsx)(t.h2,{id:"possible-causes",children:"Possible Causes"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"Your VM is a static VM."}),"\n",(0,n.jsx)(t.p,{children:"You can load a VM that exists in a vCenter Server (i.e. a static VM) into CloudShell, allowing CloudShell users to interact with it. Static VMs behave differently from Apps, whose VMs are deployed and torn down by CloudShell. Static VMs are always online because they are commonly used as shared resources and therefore CloudShell's default teardown script does not tear them down automatically when the sandbox ends."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"Your blueprint's teardown operation is not configured correctly."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"Your sandbox's teardown operation was not executed correctly. For example, teardown execution was stopped prematurely or didn't start due to a bad network connection, power outage or an issue with the execution server responsible for running the teardown operation."}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"solution",children:"Solution"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"To power off a static VM:"})}),"\n",(0,n.jsx)(t.p,{children:"If the VM does not need to be online at all times, use an App whose VM lifecycles are managed by CloudShell, or modify the teardown script to power off the Static VM."}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["To support this modification, the generic vCenter Static VM shell includes the ",(0,n.jsx)(t.strong,{children:"Auto Power Off"})," attribute. This attribute is not used in this shell so you will need to implement it. See ",(0,n.jsx)(t.a,{href:"/cloudshell-help/next/devguide/develop-orch-scripts/cs-oob-orch/",children:"CloudShell's OOB Orchestration"}),"."]})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"To ensure that blueprint teardown operations are configured correctly, in the blueprint's Properties, verify the following:"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"The correct teardown script is associated with the blueprint."}),"\n",(0,n.jsx)(t.p,{children:"If the blueprint is using a custom teardown script, make sure it is configured to power off the App's VMs."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"Estimated teardown duration"})," property is not set to 0 minutes."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"To troubleshoot teardown execution issues:"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Check the sandbox's ",(0,n.jsx)(t.a,{href:"/cloudshell-help/next/portal/sandboxes/sandbox-workspace/system-messages/activity-feed-pane",children:"Activity Feed Pane"})," for teardown execution issues and fix accordingly."]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"related-topics",children:"Related Topics"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/cloudshell-help/next/intro/features/static-vms",children:"Static VMs Overview"})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.M)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},4552:(e,t,o)=>{o.d(t,{I:()=>l,M:()=>i});var n=o(11504);const s={},r=n.createContext(s);function i(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);
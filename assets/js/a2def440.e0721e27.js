"use strict";(self.webpackChunkcloudshell_help=self.webpackChunkcloudshell_help||[]).push([[92408],{47888:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>c});var i=s(17624),t=s(4552);const l={sidebar_position:2},r="Update the RabbitMQ Credentials in Kubernetes Environment",a={id:"install-configure/cloudshell-suite/new-jss-install-config/admin-actions/update-k8s-env",title:"Update the RabbitMQ Credentials in Kubernetes Environment",description:"This article explains how to change the RabbitMQ user's credentials and register the new credentials with CloudShell's Kubernetes services. If you are not using the New Job Schedulings, perform the steps in Update the RabbitMQ Credentials on Quali Server instead.",source:"@site/versioned_docs/version-2023.3/install-configure/cloudshell-suite/new-jss-install-config/admin-actions/update-k8s-env.md",sourceDirName:"install-configure/cloudshell-suite/new-jss-install-config/admin-actions",slug:"/install-configure/cloudshell-suite/new-jss-install-config/admin-actions/update-k8s-env",permalink:"/install-configure/cloudshell-suite/new-jss-install-config/admin-actions/update-k8s-env",draft:!1,unlisted:!1,editUrl:"https://github.com/QualiSystems/cloudshell-help/tree/main/versioned_docs/version-2023.3/install-configure/cloudshell-suite/new-jss-install-config/admin-actions/update-k8s-env.md",tags:[],version:"2023.3",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Modify the CloudShell Admin Password",permalink:"/install-configure/cloudshell-suite/new-jss-install-config/admin-actions/modify-cs-admin-pass"},next:{title:"Define Sandbox Creation Retries",permalink:"/install-configure/cloudshell-suite/new-jss-install-config/admin-actions/sandbox-creation-retries"}},o={},c=[];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"update-the-rabbitmq-credentials-in-kubernetes-environment",children:"Update the RabbitMQ Credentials in Kubernetes Environment"}),"\n",(0,i.jsxs)(n.p,{children:["This article explains how to change the RabbitMQ user's credentials and register the new credentials with CloudShell's Kubernetes services. ",(0,i.jsxs)(n.em,{children:["If you are not using the New Job Schedulings, perform the steps in ",(0,i.jsx)(n.a,{href:"/install-configure/cloudshell-suite/appendix/upgrade-rabbitmq-creds",children:"Update the RabbitMQ Credentials on Quali Server"})," instead"]}),"."]}),"\n",(0,i.jsx)(n.p,{children:"CloudShell configures a default user on RabbitMQ with user/password: quali/qualipassword. However, for security purposes, we strongly recommend changing the default user's password."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"To update the default RabbitMQ user's password:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Change the user's password in RabbitMQ. For details, see this official RabbitMQ help article: ",(0,i.jsx)(n.a,{href:"https://www.rabbitmq.com/access-control.html",children:"https://www.rabbitmq.com/access-control.html"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Open the ",(0,i.jsx)(n.code,{children:"customer.values.yaml"})," file."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Set the new credentials in the ",(0,i.jsx)(n.strong,{children:"rabbitmq"})," section:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:"rabbitmq:\n  enabled: true\n  auth:\n    username: quali\n    password: <new-password>\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Specify the updated credentials in the following sections of the file:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Job Scheduling Service:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:"job-scheduling-service:\n  jobSchedulingService:\n    env:\n      ConsumptionServiceSettings__Host__UserName: quali\n      ConsumptionServiceSettings__Host__Password: <new-password>\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Sandbox Service:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:"sandbox-service:\n  sandboxService:\n    env:\n      SBS__RABBIT__GENERAL__DEFAULT_USERNAME: quali\n      SBS__RABBIT__GENERAL__DEFAULT_PASSWORD: <new-password>\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Save the file and redeploy the Helm chart."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Set the RabbitMQ user's new password on the Quali Server."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["On the Quali Server machine, open the ",(0,i.jsx)(n.code,{children:"C:\\Program Files (x86)\\QualiSystems\\CloudShell\\Server\\customer.config"})," file."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Add the following key:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:'<add key="RabbitPassword" value="<new-password>"/>'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Save the file and restart the ",(0,i.jsx)(n.strong,{children:"Quali Server"})," service."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},4552:(e,n,s)=>{s.d(n,{I:()=>a,M:()=>r});var i=s(11504);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkcloudshell_help=self.webpackChunkcloudshell_help||[]).push([[75276],{84842:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>n,metadata:()=>o,toc:()=>d});var s=r(74848),i=r(28453);const n={sidebar_position:18},a="Import a Blueprint Package into CloudShell",o={id:"portal/blueprints/creating-blueprints/import-package",title:"Import a Blueprint Package into CloudShell",description:"This procedure describes how to import a blueprint package into CloudShell so that when deployed, the blueprint will work as it did before it was exported. The import procedure also applies to 1st Gen Shells, which are imported into CloudShell the same way.",source:"@site/versioned_docs/version-2023.3/portal/blueprints/creating-blueprints/import-package.md",sourceDirName:"portal/blueprints/creating-blueprints",slug:"/portal/blueprints/creating-blueprints/import-package",permalink:"/2023.3/portal/blueprints/creating-blueprints/import-package",draft:!1,unlisted:!1,editUrl:"https://github.com/QualiSystems/cloudshell-help/tree/main/versioned_docs/version-2023.3/portal/blueprints/creating-blueprints/import-package.md",tags:[],version:"2023.3",sidebarPosition:18,frontMatter:{sidebar_position:18},sidebar:"tutorialSidebar",previous:{title:"Set the Blueprint's Privacy (Public / Private)",permalink:"/2023.3/portal/blueprints/creating-blueprints/set-blueprint-privacy"},next:{title:"Export Blueprint Packages and Configurations",permalink:"/2023.3/portal/blueprints/creating-blueprints/export-blueprints"}},l={},d=[{value:"User permissions",id:"user-permissions",level:2},{value:"Additional information",id:"additional-information",level:2},{value:"Related Topics",id:"related-topics",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"import-a-blueprint-package-into-cloudshell",children:"Import a Blueprint Package into CloudShell"})}),"\n",(0,s.jsx)(t.p,{children:"This procedure describes how to import a blueprint package into CloudShell so that when deployed, the blueprint will work as it did before it was exported. The import procedure also applies to 1st Gen Shells, which are imported into CloudShell the same way."}),"\n",(0,s.jsx)(t.p,{children:"Before importing a package, make sure to import (into CloudShell Portal) the shells associated with the blueprint's resources."}),"\n",(0,s.jsxs)(t.p,{children:["See ",(0,s.jsx)(t.a,{href:"/2023.3/portal/blueprints/creating-blueprints/export-blueprints/export-a-package",children:"Exporting a Blueprint Package"})," to get more information about how to create these packages."]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"When exporting a package, the complete zip file is exported. However, when preparing the zip file for import, you can change the contents of the package zip file. For instance, you can export a blueprint to generate a package, but remove the Topologies folder from the zip file so that only the resources and data model will be imported."})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"To import a package do one of the following:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["From the\xa0",(0,s.jsx)(t.strong,{children:"User"})," menu, select\xa0",(0,s.jsx)(t.strong,{children:"Import\xa0Package"})," and then browse to the required zipped package file."]}),"\n",(0,s.jsx)(t.li,{children:"Drag the zipped package file and drop it anywhere in the portal."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The following table describes which elements are imported into CloudShell."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Contents"}),(0,s.jsx)(t.th,{children:"Process"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"metadata.xml"})}),(0,s.jsxs)(t.td,{children:["The validation process checks that the ",(0,s.jsx)(t.code,{children:"metadata.xml"})," file exists, is valid (is of a known package type) and that the server version is less than or equal to the current server version."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Categories"}),(0,s.jsx)(t.td,{children:"Categories are updated for the imported blueprint only if these categories are already assigned to the current domain."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{children:["Drivers",(0,s.jsx)("br",{}),"(1st Gen shells only)"]}),(0,s.jsxs)(t.td,{children:["Import all resource drivers (as part of the resource shells) in the package. If drivers that have the same names as existing drivers are added, the existing ones are overwritten, even if the imported package is from an older CloudShell Server version.",(0,s.jsx)("br",{}),(0,s.jsx)(t.strong,{children:"Note:"})," Resource drivers are supported for backwards compatibility only."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Blueprint scripts"}),(0,s.jsx)(t.td,{children:"Import Python scripts attached to the blueprint and to the blueprint's components."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Resource scripts / repository assets"}),(0,s.jsxs)(t.td,{children:["Import Python scripts and repository assets (Configuration Management sh/ps1 scripts and Ansible playbooks) attached to the blueprint's components.",(0,s.jsx)("br",{}),(0,s.jsx)(t.strong,{children:"Note:"})," CloudShell identifies resource scripts and assets by their names. As such, CloudShell does not import a script or asset if one with the same name already exists in CloudShell."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{children:["Data model",(0,s.jsx)("br",{}),"(1st Gen shells only)"]}),(0,s.jsxs)(t.td,{children:["Import new and update existing attributes, new families and models, drivers, and images.",(0,s.jsx)("br",{}),(0,s.jsx)(t.strong,{children:"Warnings:"}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:["VLAN and Subnet limitations apply to the importing of blueprints containing these services. For details, see ",(0,s.jsx)(t.a,{href:"/2023.3/admin/setting-up-cloudshell/inventory-operations/connectivity-control/vlan-connectivity/",children:"VLAN Connectivity"})," and ",(0,s.jsx)(t.a,{href:"/2023.3/admin/setting-up-cloudshell/inventory-operations/connectivity-control/subnet-connectivity/",children:"Subnet Connectivity - Points to Consider"}),"."]}),(0,s.jsx)("li",{children:"If blueprints that have the same name as existing blueprints are added, the existing blueprints with the same name are overwritten, even if the imported package is from an older CloudShell Server version."})]})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Resources"}),(0,s.jsxs)(t.td,{children:["Import new and update existing resources and sub resources. IP addresses are only updated if the existing value is NA.",(0,s.jsx)("br",{}),"Resources are searched for by unique ID. If not found, then the search is performed according to name.",(0,s.jsx)("br",{}),(0,s.jsx)(t.strong,{children:"Warning:"})," If data models that have the same names as existing data models are added, information that is overwritten includes the default value, description, read-only information and other properties. However, other elements are added, for example model attributes. In most cases information that is set in the database but not in the package is not deleted, like the attributes of a model.",(0,s.jsx)("br",{}),"In addition, if any of the packaged resources are based on Shells or Shell versions that are missing from CloudShell, you will be prompted to import the required Shells first."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Abstract resources"}),(0,s.jsx)(t.td,{children:"Abstract resources are exported as is."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"App Templates"}),(0,s.jsxs)(t.td,{children:["Import new and update existing App templates. App templates are searched for by name.",(0,s.jsx)("br",{}),"For admins the Apps are included in the blueprint. For regular users, the Apps are included in the blueprint if the regular user is the blueprint owner."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Topologies"}),(0,s.jsxs)(t.td,{children:["Import new and update existing blueprints, including resources, connections, and blueprint properties.",(0,s.jsx)("br",{}),(0,s.jsx)(t.strong,{children:"Warning"}),":\xa0If blueprints that have the same name as existing blueprints are added, the existing blueprints with the same name are overwritten, even if the imported package is from an older CloudShell Server version."]})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"An indication message is displayed in CloudShell Portal to confirm the import."}),"\n",(0,s.jsx)(t.h2,{id:"user-permissions",children:"User permissions"}),"\n",(0,s.jsx)(t.p,{children:"The import process is limited by the user's permissions, as described in the following table:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Role"}),(0,s.jsx)(t.th,{children:"Permissions"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"System Administration"}),(0,s.jsx)(t.td,{children:"System administrators can import whole packages."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Domain Administration"}),(0,s.jsx)(t.td,{children:"Domain administrators can only import blueprints and resources, even if the package contains drivers and data models."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Regular User"}),(0,s.jsxs)(t.td,{children:["Regular users can only import blueprints. For example, in cases where packages contain a number of different folders and files, only the blueprints are imported. This process might therefore fail if it needs some of the dependencies that are in the package.",(0,s.jsx)("br",{}),"Apps are not included in the imported packages."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"External User"}),(0,s.jsx)(t.td,{children:"This user has the same permissions as the Regular User."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"additional-information",children:"Additional information"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["When a CloudShell admin imports a blueprint into CloudShell, the blueprint package may update or add certain management configurations in CloudShell, such as App templates, scripts and assets. However, when a regular user imports a blueprint package, unmatching configurations (such as Apps configured differently from ones in the ",(0,s.jsx)(t.strong,{children:"Manage > Apps"})," page) only apply to the blueprint."]}),"\n",(0,s.jsx)(t.li,{children:"Each step in the import process has its own validation process. The import steps that follow do not start until the current step ends successfully."}),"\n",(0,s.jsx)(t.li,{children:"If part of the import fails, all the earlier parts are preserved. In this case, the completed part of the package remains in the database."}),"\n",(0,s.jsx)(t.li,{children:"L1/Patch panel drivers are not exported or imported."}),"\n",(0,s.jsx)(t.li,{children:"Access credentials to App configuration management scripts and playbooks are included (hashed)."}),"\n",(0,s.jsx)(t.li,{children:"Labels are not included in blueprint packages."}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"related-topics",children:"Related Topics"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/2023.3/portal/blueprints/creating-blueprints/",children:"Creating Blueprints"})}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>o});var s=r(96540);const i={},n=s.createContext(i);function a(e){const t=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(n.Provider,{value:t},e.children)}}}]);
<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/add-an-azure-app-template" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Add an Azure App Template | CloudShell Help</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://help.quali.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://help.quali.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://help.quali.com/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/add-an-azure-app-template"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Add an Azure App Template | CloudShell Help"><meta data-rh="true" name="description" content="The App template defines the settings and configurations of the VM to be deployed in the sandbox as well as the application(s) to be installed on that VM."><meta data-rh="true" property="og:description" content="The App template defines the settings and configurations of the VM to be deployed in the sandbox as well as the application(s) to be installed on that VM."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://help.quali.com/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/add-an-azure-app-template"><link data-rh="true" rel="alternate" href="https://help.quali.com/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/add-an-azure-app-template" hreflang="en"><link data-rh="true" rel="alternate" href="https://help.quali.com/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/add-an-azure-app-template" hreflang="x-default"><script src="https://cdn.cookielaw.org/consent/47d0fdb5-1ced-4a6a-a893-847e68cce066/OtAutoBlock.js"></script>
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="47d0fdb5-1ced-4a6a-a893-847e68cce066"></script>
<script src="http://help.quali.com/one-trust.js"></script><link rel="stylesheet" href="/assets/css/styles.cf98e9a9.css">
<script src="/assets/js/runtime~main.f6188d75.js" defer="defer"></script>
<script src="/assets/js/main.1b51244d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="CloudShell" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-dark.svg" alt="CloudShell" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Online Help</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/next">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/add-an-azure-app-template">Next</a></li><li><a class="dropdown__link" href="/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/add-an-azure-app-template">2023.3</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/QualiSystems/cloudshell-help" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/next">Welcome!</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/next/category/introduction">Introduction</a><button aria-label="Expand sidebar category &#x27;Introduction&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/next/category/cloudshell-quickstart-guides">CloudShell Quickstart Guides</a><button aria-label="Expand sidebar category &#x27;CloudShell Quickstart Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/next/category/cloudshell-portal">CloudShell Portal</a><button aria-label="Expand sidebar category &#x27;CloudShell Portal&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/next/api-guide">CloudShell API Guide</a><button aria-label="Expand sidebar category &#x27;CloudShell API Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/next/jss">New Job Scheduling</a><button aria-label="Expand sidebar category &#x27;New Job Scheduling&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/next/install-configure">Installation and Configuration</a><button aria-label="Expand sidebar category &#x27;Installation and Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/next/admin">CloudShell Administration</a><button aria-label="Collapse sidebar category &#x27;CloudShell Administration&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/administrative-operations-overview">Administrative Operations Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/next/category/setting-up-cloudshell">Setting Up CloudShell</a><button aria-label="Expand sidebar category &#x27;Setting Up CloudShell&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/next/admin/cloudshell-identity-management">CloudShell Identity Management</a><button aria-label="Expand sidebar category &#x27;CloudShell Identity Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/next/admin/cloudshell-manage-dashboard">CloudShell Manage Dashboard</a><button aria-label="Expand sidebar category &#x27;CloudShell Manage Dashboard&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/next/admin/cloudshell-execution-server-configurations">CloudShell Execution Server Configurations</a><button aria-label="Expand sidebar category &#x27;CloudShell Execution Server Configurations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell">Supported Cloud Providers in CloudShell</a><button aria-label="Collapse sidebar category &#x27;Supported Cloud Providers in CloudShell&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/cloud-provider-2g-shells-features-and-capabilities">Cloud Provider 2G Shells Features and Capabilities</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell">Public Cloud Provider Support in CloudShell</a><button aria-label="Collapse sidebar category &#x27;Public Cloud Provider Support in CloudShell&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/aws-integration-and-configuration">AWS Integration and Configuration</a><button aria-label="Expand sidebar category &#x27;AWS Integration and Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration">Microsoft Azure Integration and Configuration</a><button aria-label="Collapse sidebar category &#x27;Microsoft Azure Integration and Configuration&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration">Microsoft Azure Integration</a><button aria-label="Collapse sidebar category &#x27;Microsoft Azure Integration&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/configure-azure-api-to-work-with-cloudshell">Configure Azure API to work with CloudShell</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/create-a-management-resource-group-and-vnets">Create a Management Resource Group and VNets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/connect-the-cloudshell-management-vnet-to-quali-server">Connect the CloudShell Management VNet to Quali Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/add-an-azure-cloud-provider-resource">Add an Azure Cloud Provider Resource</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/add-an-azure-app-template">Add an Azure App Template</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/configure-an-execution-server-selector-for-azure">Configure an Execution Server Selector for Azure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/configure-the-qualix-server-for-azure">Configure the Qualix Server for Azure</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/cost-management-of-microsoft-azure-resources">Cost Management of Microsoft Azure Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/managing-the-azure-execution-server">Managing the Azure Execution Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/azure-known-limitations">Azure Known Limitations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/custom-routing-for-azure-in-sandboxes">Custom Routing for Azure in Sandboxes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/integrating-azure-with-cloud-based-cloudshell-installation">Integrating Azure with Cloud-based CloudShell Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/using-multiple-azure-regions-in-cloudshell">Using Multiple Azure Regions in CloudShell</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/managing-public-cloud-apps-in-domains">Managing Public Cloud Apps in Domains</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/setappsecuritygroups-code-example">SetAppSecurityGroups Code Example</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/private-cloud-provider-support-in-cloudshell">Private Cloud Provider Support in CloudShell</a><button aria-label="Expand sidebar category &#x27;Private Cloud Provider Support in CloudShell&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/kubernetes-integration">Kubernetes Integration</a><button aria-label="Expand sidebar category &#x27;Kubernetes Integration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/supported-cloud-providers-in-cloudshell/customizing-app-deployment-types">Customizing App Deployment Types</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/next/admin/cloudshell-event-queue">CloudShell Server Events Queue</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/next/faq">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/next/troubleshooting">Troubleshooting</a><button aria-label="Expand sidebar category &#x27;Troubleshooting&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/next/devguide">The CloudShell DevGuide</a><button aria-label="Expand sidebar category &#x27;The CloudShell DevGuide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/next/release-notes">CloudShell 2024.1 Release Notes</a><button aria-label="Expand sidebar category &#x27;CloudShell 2024.1 Release Notes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->CloudShell Help<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/add-an-azure-app-template">latest version</a></b> (<!-- -->2023.3<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/next/admin"><span itemprop="name">CloudShell Administration</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/next/admin/supported-cloud-providers-in-cloudshell"><span itemprop="name">Supported Cloud Providers in CloudShell</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell"><span itemprop="name">Public Cloud Provider Support in CloudShell</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration"><span itemprop="name">Microsoft Azure Integration and Configuration</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration"><span itemprop="name">Microsoft Azure Integration</span></a><meta itemprop="position" content="5"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Add an Azure App Template</span><meta itemprop="position" content="6"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="theme-doc-markdown markdown"><h1>Add an Azure App Template</h1>
<p>The App template defines the settings and configurations of the VM to be deployed in the sandbox as well as the application(s) to be installed on that VM.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Notes:</div><div class="admonitionContent_BuS1"><ul>
<li>By default, all public cloud Apps of the same type in the same sandbox are deployed within the same subnet and therefore are connected to each other and isolated from other sandboxes. However, using the <strong>Subnet</strong> service, blueprint designers can set up multiple subnet networks in the sandbox, instead of having one default subnet for all the Apps of the same cloud provider. For details, see <a href="/next/admin/setting-up-cloudshell/inventory-operations/connectivity-control/subnet-connectivity">Subnet Connectivity</a>.</li>
<li>Public cloud App deployment requires the management network and subnet(s) to be prepared in advance as part of the sandbox <strong>Setup</strong> process. CloudShell&#x27;s out-of-the-box <strong>Setup</strong> process does this. However, the blueprint must include at least one public cloud App to initiate the <strong>Setup</strong> script&#x27;s connectivity preparation process for deployment in that public cloud.</li>
</ul></div></div>
<p><strong>To add a new Azure App template:</strong></p>
<ol>
<li>
<p>Click <strong>+ Add</strong>.</p>
<p>The <strong>Create New App</strong> wizard is displayed.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/CreateNewApp-beb2aaa6eb27e19feaba7df4f1ba638f.png" width="802" height="491" class="img_ev3q"></p>
</li>
<li>
<p>From the <strong>Select Deployment Type</strong> pane, select the Azure deployment type.</p>
</li>
<li>
<p>Enter a <strong>Name</strong> for the App template.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The App template&#x27;s name has a limit of 100 characters and can only contain alpha-numeric characters, spaces, and the following characters: | . - _ ] [</p></div></div>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
<p>The App template is created and the <strong>App</strong> wizard&#x27;s <strong>General</strong> page is displayed.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/AppGeneralPage-447ff7c91490c0e29172244ea811d140.png" width="802" height="571" class="img_ev3q"></p>
</li>
<li>
<p>In the General page, define the App template&#x27;s display settings and category.</p>
<table><thead><th>Field</th><th>Required</th><th>Description</th></thead><tbody><tr><td>Name</td><td>Required</td><td>App name that is displayed in the catalog.</td></tr><tr><td>Description</td><td>Optional</td><td>Description of the App.</td></tr><tr><td>Icon</td><td>Optional</td><td>Add an image to the catalog definition. The recommended size for the image is 190x120 pixels (image size is limited to 400x400 pixels or 200 KB).</td></tr><tr><td>Categories</td><td>Optional</td><td><p>Service categories are a method to classify Apps. The Apps are displayed in the Add App / Service side pane in the blueprint and sandbox diagram, arranged in categories. Only users who are permitted to view the category can access the App. Apps without a category are not displayed.</p><p>By default, the Applications category is selected.</p><p>Select a category from the dropdown list. You can select additional categories. Examples of categories are: applications, networking and VLAN.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Notes:</div><div class="admonitionContent_BuS1"><ul>
<li>The category must be associated with the domain in which the required cloud provider resides. For information about domain categories, see <a href="/next/admin/cloudshell-manage-dashboard/managing-categories#managing-domain-categories">Managing domain categories</a>.</li>
<li>It is recommended to use up to a 2-level hierarchy when organizing the <strong>Add App / Service</strong> catalog (i.e. root and sub-category).</li>
<li>In the <strong>Add App / Service</strong> side pane, Apps are displayed in the root category only. This includes services associated to sub-categories.</li>
</ul></div></div></td></tr></tbody></table>
</li>
<li>
<p>In the left pane, click <strong>Deployment Paths</strong> and configure the App template&#x27;s deployment path.</p>
<p>A deployment path consists of (1) the selected deployment type (the method to be used to deploy the VM), (2) the VM’s settings such as storage size, CPU and image file, and (3) the CloudShell cloud provider resource that enables CloudShell to access the cloud provider and deploy the VM on it.</p>
<p>Note the deployment path&#x27;s name (highlighted in the image below). The path&#x27;s name is dynamic and consists of the selected <strong>Cloud Provide</strong>r resource and <strong>Deployment type</strong>. You can change the name of the path by clicking the field.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/AzureDeploymentPathName-7d003108e885af558bf7c186983f4008.png" width="722" height="514" class="img_ev3q"></p>
<ol>
<li>
<p>From the <strong>Deployment</strong> drop down list, select the deployment type.</p>
<p>The selected deployment type&#x27;s attributes are displayed.</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>Deployment types related to the Azure 2<sup>nd</sup> Gen cloud provider shell include &quot;2nd Gen&quot; in the title (for example: &quot;Azure VM from Marketplace 2nd Gen&quot;).</p></div></div>
</li>
<li>
<p>Fill in the details.</p>
<ul>
<li>
<p>For <strong>Azure VM From Custom Image</strong> attributes</p>
<table><thead><th>Attribute</th><th>Azure shell version</th><th>Description</th></thead><tbody><tr><td>Cloud Provider</td><td>All</td><td>Name of the Azure cloud provider resource to be used</td></tr><tr><td>Azure Image</td><td>All</td><td>Name of the custom image. The image name is listed in the Images blade of the Azure portal.</td></tr><tr><td>Azure Resource Group</td><td>All</td><td>Name of the resource group in which the custom image resides.</td></tr><tr><td>VM Size</td><td>All</td><td><p>(Optional) Size of the Microsoft Azure computing resources, including CPU, memory and networking capacity of the VM. Leave it empty to use the default VM Size that was set in the cloud provider resource. For example: &quot;Standard_A1_v2”.</p><p>Make sure the VM size you specify is supported by the image you defined in the App.</p><div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>For Azure Apps that will run configuration management operations, specify a VM size of Standard_A2_v2 or larger.</p></div></div><p>For additional information, see the Azure help page <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/sizes" target="_blank" rel="noopener noreferrer">Sizes for virtual machines in Azure</a> or use Azure CLI to get a list of your region&#x27;s supported sizes.</p></td></tr><tr><td>Disk Type</td><td>All</td><td><p>Type of disk to use for the VM&#x27;s operating system. Possible options depend on the shell version:</p><p>Azure 1G shell:</p><ul>
<li><strong>HDD</strong> (default)</li>
<li><strong>SSD</strong></li>
</ul><p>Azure 2G shell:</p><ul>
<li><strong>Standard HDD</strong></li>
<li><strong>Standard SSD</strong></li>
<li><strong>Premium SSD</strong></li>
<li><strong>Standard SSD (zone-redundant storage)</strong></li>
<li><strong>Premium SSD (zone-redundant storage)</strong></li>
</ul></td></tr><tr><td>Disk Size</td><td>All</td><td><p>(Optional) Disk size (in GB) of the VM&#x27;s operating system. For example, &quot;17” or &quot;35”.</p><p>If you leave it empty, CloudShell will determine the disk size according to the App&#x27;s <strong>VM Size</strong>.</p></td></tr><tr><td>Data Disks</td><td>2G</td><td><p>Semicolon-separated list of data disks that will be added to the VM.</p><p>The syntax is: <code>disk_name:disk_size,disk_type</code></p><p>For example:</p><p><code>disk1:10;disk2:20,Premium SSD;disk3:20,Standard SSD (zone-redundant storage)</code></p><p>Supported disk types are:</p><ul>
<li><strong>Standard HDD</strong> (default)</li>
<li><strong>Standard SSD</strong></li>
<li><strong>Premium SSD</strong></li>
<li><strong>Ultra SSD</strong></li>
<li><strong>Standard SSD (zone-redundant storage)</strong></li>
<li><strong>Premium SSD (zone-redundant storage)</strong></li>
</ul></td></tr><tr><td>License Type</td><td>2G</td><td><p>Optionally apply an OS license you own to the VM.</p><p>Options are:</p><ul>
<li><strong>No License</strong>: None</li>
<li><strong>Windows OS</strong>: Windows_Client</li>
<li><strong>Windows Server OS</strong>: Windows_Server</li>
<li><strong>Red Hat Enterprise Linux (RHEL)</strong>: RJE:_BYOS</li>
<li><strong>SUSE Linux Enterprise Server (SLES)</strong>: SLES_BYOS</li>
</ul></td></tr><tr><td>Enable Boot Diagnostics</td><td>2G</td><td>Enable Boot diagnostics for the VM. For additional information, see Microsoft Docs&#x27; <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/boot-diagnostics" target="_blank" rel="noopener noreferrer">Azure boot diagnostics</a> article.</td></tr><tr><td>Boot Diagnostics Storage Account</td><td>2G</td><td>The name of a storage account where boot diagnostic artifacts will be stored. Enter &quot;Sandbox Storage&quot; to use the storage account created by the sandbox. By default: the managed storage account is used if <strong>Enable Boot Diagnostics</strong> is enabled.</td></tr><tr><td>Resource Group Name</td><td>2G</td><td>(Optional) The name of the predefined resource group where the VM will be deployed. This resource group will contain all cloud resources created for the VM (such as network interfaces, security groups, disks and the VM itself). When the VM tears down, its cloud resources will be deleted from the resource group but the resource group will remain.</td></tr><tr><td>Add Public IP</td><td>All</td><td><p>Set to <strong>True</strong> to use a public IP address to communicate with the VM from outside the virtual network.</p><p>In most cases the public IP address is associated with the VM until the VM is stopped or terminated, after which the IP is no longer available. To ensure that the IP is available to your subscription at any time, reserve it by setting the <strong>Public IPType</strong> attribute to <strong>Static</strong>.</p></td></tr><tr><td>Wait for IP</td><td>All</td><td>Determines if the App deployment process waits for the VM to get an IP. Default is <strong>False</strong>.</td></tr><tr><td>Extension Script File / Configuration</td><td>All</td><td><p>(Optional) Custom extension script (PowerShell, Python, batch, etc.) to execute on the deployed VM.</p><ul>
<li>
<p><strong>Extension Script File</strong>: Raw URL of the script file</p>
</li>
<li>
<p><strong>Extension Script Configuration</strong>: Space-separated value containing the tool to be used to execute the script, such as Python or PowerShell, the script&#x27;s file name and extension, and any inputs that need to be passed to the script. For example: <code>python my_script.py input1</code> <code>input2</code></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Notes:</div><div class="admonitionContent_BuS1"><ul>
<li>
<p>For non-PowerShell scripts, the tool to be used to execute the script must be installed on the VM.</p>
</li>
<li>
<p>For Linux VMs, you must specify the tool to be used. For Windows VMs, PowerShell is used by default, unless a different tool is specified.</p>
</li>
<li>
<p>Extension scripts are not supported on Kali Linux images in Azure Marketplace. To fix this issue, you will need to use a modified version of the Marketplace image:</p>
<ol>
<li>
<p>Deploy a VM based on the <strong>Kali Linux</strong> Marketplace image.</p>
</li>
<li>
<p>Run the following command:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo nano </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">lib</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">python3</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">dist</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">packages</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">azurelinuxagent</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">common</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">osutil</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">factory</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Find the line:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">debian</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token maybe-class-name">DebianOSModernUtil</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Replace with:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">debian</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token maybe-class-name">DebianOSModernUtil</span><span class="token punctuation" style="color:#393A34">,</span><span class="token maybe-class-name">DebianOSBaseUtil</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Press <strong>[CTRL]</strong> + <strong>[O]</strong> and <strong>[Enter]</strong> keys.</p>
</li>
<li>
<p>Press <strong>[CTRL]</strong> + <strong>[X]</strong> and <strong>[Enter]</strong> keys.</p>
</li>
<li>
<p>Restart the <strong>walinuxagent.service</strong> service.</p>
</li>
<li>
<p>Create a custom image out of the VM.</p>
</li>
</ol>
</li>
</ul></div></div>
</li>
</ul><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>To support the execution of extension scripts, custom images created outside of Azure Marketplace must include the <strong>ProvisionGuestAgent</strong> agent. For additional information, see <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/extensions/features-windows" target="_blank" rel="noopener noreferrer">Virtual machine extensions and features for Windows</a>.</p></div></div></td></tr><tr><td>Public IP Type</td><td>All</td><td>Set to <strong>Static</strong> to ensure that the VM always uses the same public IP. By default, public IPs are <strong>Dynamic</strong> and the address associated to them may change when the VM is powered off.</td></tr><tr><td>Inbound Ports</td><td>All</td><td><p>(Optional) Semi-colon separated list of ports and protocols to open for inbound traffic. Note that by default access from the management VPC is allowed and all ports are open for traffic between Azure App VMs within the sandbox, but this can be changed using the <strong>Allow All Sandbox Traffic</strong> attribute.</p><p>In addition, all outbound traffic is allowed.</p><p>The syntax is:</p><p><code>port[single/range]:protocol[tcp(default)/udp]</code></p><p>For example: &quot;80;443<!-- -->:tcp<!-- -->;200-220<!-- -->:udp<!-- -->&quot;.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If not specified, the protocol defaults to TCP.</p></div></div><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tips:</div><div class="admonitionContent_BuS1"><ul>
<li>To allow QualiX in-browser connections to the VM from the sandbox, include port &quot;22&quot;.</li>
<li>To set more specific security groups, it is recommended to use the TestShell API&#x27;s <a href="/api-docs/2024.1/TestShell-API/TestShell%20XML%20RPC%20API.html#SetAppSecurityGroups" target="_blank" rel="noopener noreferrer">SetAppsSecurityGroup</a> method instead. Unlike the <strong>Inbound Port</strong>s attribute, it enables you to define different port settings per subnet and allow inbound access to specific source CIDRs. For additional information, see <a href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/setappsecuritygroups-code-example">SetAppSecurityGroups Code Example</a>.</li>
</ul></div></div></td></tr><tr><td>Custom Tags</td><td>2G</td><td>Semi-colon separated list of up to 9 tags to be applied to all related Azure objects created during the App deployment, such as the sandbox&#x27;s resource group, VNETs, subnets, NSGs and VMs. Attribute supports the following syntax: [TagName]=[TagValue]; [TagName]=[TagValue]. For example: &quot;Tag1=Val1;Tag2=Val2”</td></tr><tr><td>Allow All Sandbox Traffic</td><td>All</td><td><p>Determines if the App allows inbound traffic from all other Azure Apps in the sandbox. If set to <strong>False</strong>, the App&#x27;s VM will be isolated. Access from specific Apps or subnets can be defined using the <strong>Inbound Ports</strong> attribute or API.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>By default, this attribute is <strong>True</strong>, and access is allowed to all ports from all Apps in the sandbox. By default, all ports are open for traffic within the sandbox.</p></div></div></td></tr><tr><td>Enable IP Forwarding</td><td>2G</td><td>Enables IP forwarding on all network interfaces of the app in order to support virtual appliances like routers and firewalls that are connected to multiple subnets.</td></tr><tr><td>Autoload</td><td>2G</td><td>Enables the automatic execution of the Autoload command during reservation Setup.</td></tr><tr><td>Availability Zones</td><td>2G</td><td>Specify the Availability Zone (1, 2, or 3) in which the App’s VM, managed disk and public IP (if available) will be deployed. Leave empty to inherit the Availability Zones defined on the cloud provider resource. For details and supported regions, see <a href="https://learn.microsoft.com/en-us/azure/availability-zones/az-overview" target="_blank" rel="noopener noreferrer">Regions and availability zones</a>.</td></tr></tbody></table>
</li>
<li>
<p>For <strong>Azure VM From Marketplace</strong> attributes</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Every VM deployed from a Marketplace image is created with a managed disk, which is deleted when the sandbox ends.</p></div></div>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>If you want to deploy a third party application from a Marketplace image, make sure Programmatic Deployment is enabled for the image in the subscription. To enable, log in to Azure and open the Marketplace, find the image and click it, select the Want to deploy programmatically? Get started link at the bottom of the blade that appears. Then, in the Configure Programmatic Deployment blade, scroll down to the bottom, select Enable for the appropriate subscription and click Save. For additional information, see the following Azure help page: <a href="https://azure.microsoft.com/en-us/blog/working-with-marketplace-images-on-azure-resource-manager/" target="_blank" rel="noopener noreferrer">Working with Marketplace Images on Azure Resource Manager</a>.</p></div></div>
<table><thead><th>Attribute</th><th>Azure shell version</th><th>Description</th></thead><tbody><tr><td>Cloud Provider</td><td>All</td><td>Name of the Azure cloud provider resource to be used</td></tr><tr><td>Image Publisher</td><td>All</td><td><p>Define the VM image&#x27;s <strong>Publisher</strong>, <strong>Offer</strong> and <strong>SKU</strong>.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The Publisher, Offer and SKU must exist in the Azure region where the VM will be deployed.</p></div></div><p>For typical image properties, see the following Azure help pages: <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/cli-ps-findimage" target="_blank" rel="noopener noreferrer">Linux VM images</a> and <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/cli-ps-findimage" target="_blank" rel="noopener noreferrer">Windows VM images</a>.</p></td></tr><tr><td>Image Offer</td><td>All</td><td>Image Offer</td></tr><tr><td>Image SKU</td><td>All</td><td>Image SKU</td></tr><tr><td>VM Size</td><td>All</td><td><p>(Optional) Size of the Microsoft Azure VM. This parameter determines the CPU, memory and networking capacity of the VM. Leave it empty to use the default VM Size that was set in the cloud provider resource. For example: &quot;Standard_A1_v2”.</p><div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>For Azure Apps that will run configuration management operations, specify a VM size of Standard_A2_v2 or larger.</p></div></div></td></tr><tr><td>Disk Type</td><td>All</td><td><p>Type of disk to use for the VM&#x27;s operating system. Possible options depend on the shell version:</p><p>Azure 1G shell:</p><ul>
<li><strong>HDD</strong> (default)</li>
<li><strong>SSD</strong></li>
</ul><p>Azure 2G shell:</p><ul>
<li><strong>Standard HDD</strong></li>
<li><strong>Standard SSD</strong></li>
<li><strong>Premium SSD</strong></li>
<li><strong>Standard SSD (zone-redundant storage)</strong></li>
<li><strong>Premium SSD (zone-redundant storage)</strong></li>
</ul></td></tr><tr><td>Disk Size</td><td>All</td><td><p>(Optional) Disk size (in GB) of the VM&#x27;s operating system. For example, &quot;17” or &quot;35”.</p><p>If you leave it empty, CloudShell will determine the disk size according to the App&#x27;s <strong>VM Size</strong>.</p></td></tr><tr><td>Data Disks</td><td>2G</td><td><p>Semicolon-separated list of data disks that will be added to the VM.</p><p>The syntax is: <code>disk_name:disk_size,disk_type</code></p><p>For example:</p><p><code>disk1:10;disk2:20,Premium SSD;disk3:20,Standard SSD (zone-redundant storage)</code></p><p>Supported disk types are:</p><ul>
<li><strong>Standard HDD</strong> (default)</li>
<li><strong>Standard SSD</strong></li>
<li><strong>Premium SSD</strong></li>
<li><strong>Ultra SSD</strong></li>
<li><strong>Standard SSD (zone-redundant storage)</strong></li>
<li><strong>Premium SSD (zone-redundant storage)</strong></li>
</ul></td></tr><tr><td>License Type</td><td>2G</td><td><p>Optionally apply an OS license you own to the VM.</p><p>Options are:</p><ul>
<li><strong>No License</strong>: None</li>
<li><strong>Windows OS</strong>: Windows_Client</li>
<li><strong>Windows Server OS</strong>: Windows_Server</li>
<li><strong>Red Hat Enterprise Linux (RHEL)</strong>: RJE:_BYOS</li>
<li><strong>SUSE Linux Enterprise Server (SLES)</strong>: SLES_BYOS</li>
</ul></td></tr><tr><td>Enable Boot Diagnostics</td><td>2G</td><td>Enable Boot diagnostics for the VM. For additional information, see Microsoft Docs&#x27; <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/boot-diagnostics" target="_blank" rel="noopener noreferrer">Azure boot diagnostics</a> article.</td></tr><tr><td>Boot Diagnostics Storage Account</td><td>2G</td><td>The name of a storage account where boot diagnostic artifacts will be stored. Enter &quot;Sandbox Storage&quot; to use the storage account created by the sandbox. By default: the managed storage account is used if <strong>Enable Boot Diagnostics</strong> is enabled.</td></tr><tr><td>Resource Group Name</td><td>2G</td><td>(Optional) The name of the predefined resource group where the VM will be deployed. This resource group will contain all cloud resources created for the VM (such as network interfaces, security groups, disks and the VM itself). When the VM tears down, its cloud resources will be deleted from the resource group but the resource group will remain.</td></tr><tr><td>Add Public IP</td><td>All</td><td><p>Set to <strong>True</strong> to use a public IP address to communicate with the VM from outside the virtual network.</p><p>In most cases the public IP address is associated with the VM until the VM is stopped or terminated, after which the IP is no longer available. To ensure that the IP is available to your subscription at any time, reserve it by setting the <strong>Public IP Type</strong> attribute to <strong>Static</strong>.</p></td></tr><tr><td>Wait for IP</td><td>All</td><td>Determines if the App deployment process waits for the VM to get an IP. Default is <strong>False</strong>.</td></tr><tr><td>Extension Script File / Configuration</td><td>All</td><td><p>(Optional) Custom extension script (PowerShell, Python, batch, etc.) to execute on the deployed VM.</p><ul>
<li>
<p><strong>Extension Script File</strong>: Raw URL of the script file</p>
</li>
<li>
<p><strong>Extension Script Configuration</strong>: Space-separated value containing the tool to be used to execute the script, such as Python or PowerShell, the script&#x27;s file name and extension, and any inputs that need to be passed to the script. For example: <code>python my_script.py input1</code> <code>input2</code></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Notes:</div><div class="admonitionContent_BuS1"><ul>
<li>
<p>For non-PowerShell scripts, the tool to be used to execute the script must be installed on the VM.</p>
</li>
<li>
<p>For Linux VMs, you must specify the tool to be used. For Windows VMs, PowerShell is used by default, unless a different tool is specified.</p>
</li>
<li>
<p>Extension scripts are not supported on Kali Linux images in Azure Marketplace. To fix this issue, you will need to use a modified version of the Marketplace image:</p>
<ol>
<li>
<p>Deploy a VM based on the <strong>Kali Linux</strong> Marketplace image.</p>
</li>
<li>
<p>Run the following command:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo nano </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">lib</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">python3</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">dist</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">packages</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">azurelinuxagent</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">common</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">osutil</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">factory</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Find the line:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">debian</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token maybe-class-name">DebianOSModernUtil</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Replace with:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">debian</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token maybe-class-name">DebianOSModernUtil</span><span class="token punctuation" style="color:#393A34">,</span><span class="token maybe-class-name">DebianOSBaseUtil</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Press <strong>[CTRL]</strong> + <strong>[O]</strong> and <strong>[Enter]</strong> keys.</p>
</li>
<li>
<p>Press <strong>[CTRL]</strong> + <strong>[X]</strong> and <strong>[Enter]</strong> keys.</p>
</li>
<li>
<p>Restart the <strong>walinuxagent.service</strong> service.</p>
</li>
<li>
<p>Create a custom image out of the VM.</p>
</li>
</ol>
</li>
</ul></div></div>
</li>
</ul></td></tr><tr><td>Public IP Type</td><td>All</td><td>Set to <strong>Static</strong> to ensure that the VM always uses the same public IP. By default, public IPs are <strong>Dynamic</strong> and the address associated to them may change when the VM is powered off.</td></tr><tr><td>Inbound Ports</td><td>All</td><td><p>(Optional) Semi-colon separated list of ports and protocols to open for inbound traffic. Note that by default access from the management VPC is allowed and all ports are open for traffic between Azure App VMs within the sandbox, but this can be changed using the <strong>Allow All Sandbox Traffic</strong> attribute.</p><p>In addition, all outbound traffic is allowed.</p><p>The syntax is:</p><p><code>port[single/range]:protocol[tcp(default)/udp]</code></p><p>For example: &quot;80;443<!-- -->:tcp<!-- -->;200-220<!-- -->:udp<!-- -->&quot;.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If not specified, the protocol defaults to TCP.</p></div></div><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tips:</div><div class="admonitionContent_BuS1"><ul>
<li>To allow QualiX in-browser connections to the VM from the sandbox, include port &quot;22&quot;.</li>
<li>To set more specific security groups, it is recommended to use the TestShell API&#x27;s <a href="/api-docs/2024.1/TestShell-API/TestShell%20XML%20RPC%20API.html#SetAppSecurityGroups" target="_blank" rel="noopener noreferrer">SetAppsSecurityGroup</a> method instead. Unlike the <strong>Inbound Port</strong>s attribute, it enables you to define different port settings per subnet and allow inbound access to specific source CIDRs. For additional information, see <a href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/setappsecuritygroups-code-example">SetAppSecurityGroups Code Example</a>.</li>
</ul></div></div></td></tr><tr><td>Custom Tags</td><td>2G</td><td>Semi-colon separated list of up to 9 tags to be applied to all related Azure objects created during the App deployment, such as the sandbox&#x27;s resource group, VNETs, subnets, NSGs and VMs. Attribute supports the following syntax: [TagName]=[TagValue]; [TagName]=[TagValue]. For example: &quot;Tag1=Val1;Tag2=Val2”</td></tr><tr><td>Allow All Sandbox Traffic</td><td>All</td><td><p>Determines if the App allows inbound traffic from all other Azure Apps in the sandbox. If set to <strong>False</strong>, the App&#x27;s VM will be isolated. Access from specific Apps or subnets can be defined using the <strong>Inbound Ports</strong> attribute or API.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>By default, this attribute is <strong>True</strong>, and access is allowed to all ports from all Apps in the sandbox. By default, all ports are open for traffic within the sandbox.</p></div></div></td></tr><tr><td>Enable IP Forwarding</td><td>2G</td><td>Enables IP forwarding on all network interfaces of the app in order to support virtual appliances like routers and firewalls that are connected to multiple subnets.</td></tr><tr><td>Autoload</td><td>2G</td><td>Enables the automatic execution of the Autoload command during reservation Setup.</td></tr><tr><td>Availability Zones</td><td>2G</td><td>Specify the Availability Zone (1, 2, or 3) in which the App’s VM, managed disk and public IP (if available) will be deployed. Leave empty to inherit the Availability Zones defined on the cloud provider resource. For details and supported regions, see <a href="https://learn.microsoft.com/en-us/azure/availability-zones/az-overview" target="_blank" rel="noopener noreferrer">Regions and availability zones</a>.</td></tr></tbody></table>
</li>
<li>
<p>For <strong>Azure VM From Gallery Image 2nd Gen</strong> attributes</p>
<table><thead><th>Attribute</th><th>Description</th></thead><tbody><tr><td>Cloud Provider</td><td>Name of the Azure cloud provider resource to be used</td></tr><tr><td>Shared Image Gallery</td><td>Name of the shared image gallery to be used to create a VM. The image gallery is listed in the <strong>Shared image galleries</strong> blade of the Azure portal.</td></tr><tr><td>Image Definition</td><td>The image definition is listed in the <strong>Image definitions</strong> blade of the Azure portal.</td></tr><tr><td>Image Version</td><td>Name of the image version to be used to create Azure VMs. Use &quot;latest&quot; if version is unavailable.</td></tr><tr><td>Shared Gallery Resource Group</td><td>Resource group in which the shared image gallery resides.</td></tr><tr><td>Shared Gallery Image Subscription ID</td><td>The subscription ID of the shared image gallery. Use &quot;current&quot; if not set.</td></tr><tr><td>VM Size</td><td><p>(Optional) Size of the Microsoft Azure computing resources, including CPU, memory and networking capacity of the VM. Leave it empty to use the default VM Size that was set in the cloud provider resource. For example: &quot;Standard_A1_v2”.</p><div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>For Azure Apps that will run configuration management operations, specify a VM size of Standard_A2_v2 or larger.</p></div></div><p>For additional information, see the Azure help page <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/sizes" target="_blank" rel="noopener noreferrer">Sizes for virtual machines in Azure</a> or use Azure CLI to get a list of your region&#x27;s supported sizes.</p></td></tr><tr><td>Disk Type</td><td><p>Type of disk to use for the VM&#x27;s operating system.</p><ul>
<li><strong>Standard HDD</strong></li>
<li><strong>Standard SSD</strong></li>
<li><strong>Premium SSD</strong></li>
<li><strong>Standard SSD (zone-redundant storage)</strong></li>
<li><strong>Premium SSD (zone-redundant storage)</strong></li>
</ul></td></tr><tr><td>Disk Size</td><td><p>(Optional) Disk size (in GB) of the VM&#x27;s operating system. For example, &quot;17” or &quot;35”.</p><p>If you leave it empty, CloudShell will determine the disk size according to the App&#x27;s <strong>VM Size</strong>.</p></td></tr><tr><td>Data Disks</td><td><p>Semicolon-separated list of data disks that will be added to the VM.</p><p>The syntax is: <code>disk_name:disk_size,disk_type</code></p><p>For example:</p><p><code>disk1:10;disk2:20,Premium SSD;disk3:20,Standard SSD (zone-redundant storage)</code></p><p>Supported disk types are:</p><ul>
<li><strong>Standard HDD</strong> (default)</li>
<li><strong>Standard SSD</strong></li>
<li><strong>Premium SSD</strong></li>
<li><strong>Ultra SSD</strong></li>
<li><strong>Standard SSD (zone-redundant storage)</strong></li>
<li><strong>Premium SSD (zone-redundant storage)</strong></li>
</ul></td></tr><tr><td>License Type</td><td><p>Optionally apply an OS license you own to the VM.</p><p>Options are:</p><ul>
<li><strong>No License</strong>: None</li>
<li><strong>Windows OS</strong>: Windows_Client</li>
<li><strong>Windows Server OS</strong>: Windows_Server</li>
<li><strong>Red Hat Enterprise Linux (RHEL)</strong>: RJE:_BYOS</li>
<li><strong>SUSE Linux Enterprise Server (SLES)</strong>: SLES_BYOS</li>
</ul></td></tr><tr><td>Enable Boot Diagnostics</td><td>Enable Boot diagnostics for the VM. For additional information, see Microsoft Docs&#x27; <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/boot-diagnostics" target="_blank" rel="noopener noreferrer">Azure boot diagnostics</a> article.</td></tr><tr><td>Boot Diagnostics Storage Account</td><td>The name of a storage account where boot diagnostic artifacts will be stored. Enter &quot;Sandbox Storage&quot; to use the storage account created by the sandbox. By default: the managed storage account is used if <strong>Enable Boot Diagnostic</strong>s is enabled.</td></tr><tr><td>Resource Group Name</td><td>(Optional) The name of the predefined resource group where the VM will be deployed. This resource group will contain all cloud resources created for the VM (such as network interfaces, security groups, disks and the VM itself). When the VM tears down, its cloud resources will be deleted from the resource group but the resource group will remain.</td></tr><tr><td>Add Public IP</td><td><p>Set to <strong>True</strong> to use a public IP address to communicate with the VM from outside the virtual network.</p><p>In most cases the public IP address is associated with the VM until the VM is stopped or terminated, after which the IP is no longer available. To ensure that the IP is available to your subscription at any time, reserve it by setting the <strong>Public IPType</strong> attribute to <strong>Static</strong>.</p></td></tr><tr><td>Wait for IP</td><td>Determines if the App deployment process waits for the VM to get an IP. Default is <strong>False</strong>.</td></tr><tr><td>Extension Script File / Configuration</td><td><p>(Optional) Custom extension script (PowerShell, Python, batch, etc.) to execute on the deployed VM.</p><ul>
<li>
<p><strong>Extension Script File</strong>: Raw URL of the script file</p>
</li>
<li>
<p><strong>Extension Script Configuration</strong>: Space-separated value containing the tool to be used to execute the script, such as Python or PowerShell, the script&#x27;s file name and extension, and any inputs that need to be passed to the script. For example: <code>python my_script.py input1</code> <code>input2</code></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Notes:</div><div class="admonitionContent_BuS1"><ul>
<li>
<p>For non-PowerShell scripts, the tool to be used to execute the script must be installed on the VM.</p>
</li>
<li>
<p>For Linux VMs, you must specify the tool to be used. For Windows VMs, PowerShell is used by default, unless a different tool is specified.</p>
</li>
<li>
<p>Extension scripts are not supported on Kali Linux images in Azure Marketplace. To fix this issue, you will need to use a modified version of the Marketplace image:</p>
<ol>
<li>
<p>Deploy a VM based on the <strong>Kali Linux</strong> Marketplace image.</p>
</li>
<li>
<p>Run the following command:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo nano </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">lib</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">python3</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">dist</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">packages</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">azurelinuxagent</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">common</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">osutil</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">factory</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Find the line:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">debian</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token maybe-class-name">DebianOSModernUtil</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Replace with:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">debian</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token maybe-class-name">DebianOSModernUtil</span><span class="token punctuation" style="color:#393A34">,</span><span class="token maybe-class-name">DebianOSBaseUtil</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Press <strong>[CTRL]</strong> + <strong>[O]</strong> and <strong>[Enter]</strong> keys.</p>
</li>
<li>
<p>Press <strong>[CTRL]</strong> + <strong>[X]</strong> and <strong>[Enter]</strong> keys.</p>
</li>
<li>
<p>Restart the <strong>walinuxagent.service</strong> service.</p>
</li>
<li>
<p>Create a custom image out of the VM.</p>
</li>
</ol>
</li>
</ul></div></div>
</li>
</ul><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>To support the execution of extension scripts, custom images created outside of Azure Marketplace must include the ProvisionGuestAgent agent. For additional information, see <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/extensions/features-windows" target="_blank" rel="noopener noreferrer">Virtual machine extensions and features for Windows</a>.</p></div></div></td></tr><tr><td>Public IP Type</td><td>Set to <strong>Static</strong> to ensure that the VM always uses the same public IP. By default, public IPs are <strong>Dynamic</strong> and the address associated to them may change when the VM is powered off.</td></tr><tr><td>Inbound Ports</td><td><p>(Optional) Semi-colon separated list of ports and protocols to open for inbound traffic. Note that by default access from the management VPC is allowed and all ports are open for traffic between Azure App VMs within the sandbox, but this can be changed using the <strong>Allow All Sandbox Traffic</strong> attribute.</p><p>In addition, all outbound traffic is allowed.</p><p>The syntax is:</p><p><code>port[single/range]:protocol[tcp(default)/udp]</code></p><p>For example: &quot;80;443<!-- -->:tcp<!-- -->;200-220<!-- -->:udp<!-- -->&quot;.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If not specified, the protocol defaults to TCP.</p></div></div><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tips:</div><div class="admonitionContent_BuS1"><ul>
<li>To allow QualiX in-browser connections to the VM from the sandbox, include port &quot;22&quot;.</li>
<li>To set more specific security groups, it is recommended to use the TestShell API&#x27;s <a href="/api-docs/2024.1/TestShell-API/TestShell%20XML%20RPC%20API.html#SetAppSecurityGroups" target="_blank" rel="noopener noreferrer">SetAppsSecurityGroup</a> method instead. Unlike the <strong>Inbound Ports</strong> attribute, it enables you to define different port settings per subnet and allow inbound access to specific source CIDRs. For additional information, see <a href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/setappsecuritygroups-code-example">SetAppSecurityGroups Code Example</a>.</li>
</ul></div></div></td></tr><tr><td>Custom Tags</td><td>Semi-colon separated list of up to 9 tags to be applied to all related Azure objects created during the App deployment, such as the sandbox&#x27;s resource group, VNETs, subnets, NSGs and VMs. Attribute supports the following syntax: [TagName]=[TagValue]; [TagName]=[TagValue]. For example: &quot;Tag1=Val1;Tag2=Val2”</td></tr><tr><td>Allow All Sandbox Traffic</td><td><p>Determines if the App allows inbound traffic from all other Azure Apps in the sandbox. If set to <strong>False</strong>, the App&#x27;s VM will be isolated. Access from specific Apps or subnets can be defined using the <strong>Inbound Ports</strong> attribute or API.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>By default, this attribute is <strong>True</strong>, and access is allowed to all ports from all Apps in the sandbox. By default, all ports are open for traffic within the sandbox.</p></div></div></td></tr><tr><td>Enable IP Forwarding</td><td>Enables IP forwarding on all network interfaces of the app in order to support virtual appliances like routers and firewalls that are connected to multiple subnets.</td></tr><tr><td>Autoload</td><td>Enables the automatic execution of the Autoload command during reservation Setup.</td></tr><tr><td>Availability Zones</td><td>Specify the Availability Zone (1, 2, or 3) in which the App’s VM, managed disk and public IP (if available) will be deployed. Leave empty to inherit the Availability Zones defined on the cloud provider resource. For details and supported regions, see <a href="https://learn.microsoft.com/en-us/azure/availability-zones/az-overview" target="_blank" rel="noopener noreferrer">Regions and availability zones</a>.</td></tr></tbody></table>
</li>
</ul>
</li>
</ol>
</li>
<li>
<p>To add additional deployment paths to the App template, click the <strong>Add New Deployment Path</strong> link at the bottom of the wizard and fill in the required information.</p>
</li>
<li>
<p>In the left pane, click Configuration Management and configure the application to be installed on the VM.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/ConfigurationManagement-c062f8444207c45efc5d0faeb418cc99.png" width="803" height="573" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>To learn how to develop custom scripts and Ansible playbooks, including examples, and set up support for the desired configuration management tool, see <a href="/next/devguide/develop-config-management-scripts-for-apps">Developing Configuration Management Scripts for Apps</a>.</p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Notes:</div><div class="admonitionContent_BuS1"><ul>
<li>
<p>To run configuration management on an Azure App, make sure the App&#x27;s VM size is Basic_A2 or larger.</p>
</li>
<li>
<p>For configuration management operations, CloudShell uses an available Execution Server (for Ansible, it&#x27;s a Linux Execution Server that has the Supports Ansible flag).</p>
<p>If the cloud provider resource has an Execution Server Selector configured, it will use that selector. If the selector is empty, CloudShell will use the selector defined in the appropriate Resource Manager Client &gt;Configuration Services model (Ansible Configuration or Custom Script Configuration).</p>
</li>
<li>
<p>Execution Server selectors specified on the deployed App shell/resource are not used to execute configuration management operations.</p>
</li>
</ul></div></div>
<ol>
<li>
<p>Define the script or playbook to install.</p>
<table><thead><th>Attribute</th><th>Description</th></thead><tbody><tr><td>Select Tool</td><td><p>Select the application&#x27;s installation and configuration tool.</p><ul>
<li><strong>None</strong>: Do not use any Configuration Management option. Use this option if, for example, the image or template already contains the application to install.</li>
<li><strong>Script</strong>: Select the custom script to run (PowerShell, bash or sh).</li>
<li><strong>Ansible</strong>: (Intended for customers who are already using Ansible) Select the Ansible playbook to run.<!-- -->
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The playbook runs once during the <strong>Setup</strong> phase for all of the sandbox&#x27;s Apps that use that playbook, after CloudShell has finished deploying their VMs. This is done both to improve performance and support cross-server logic where multiple applications need to be installed and configured in a certain way.</p></div></div>
<!-- -->Note that the playbook runs once for all of the sandbox&#x27;s Apps that use that playbook, after CloudShell has finished deploying their VMs.</li>
</ul><p>Depending on the selection, additional options may become available.</p></td></tr><tr><td>Connection Method</td><td><p>The method to use to connect to the VM.</p><p>Select:</p><ul>
<li><strong>SSH</strong> if the VM has a Linux OS</li>
<li><strong>Windows Remote Management</strong> if the VM has a Windows OS</li>
</ul><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>To run configuration management on a Windows VM, the VM must have WinRM enabled. For details, see <a href="/next/devguide/enable-winrm-on-win-vm-for-cfg-mng">Enable WinRM on Windows VMs to Support Configuration Management</a>.</p></div></div></td></tr><tr><td>Playbook / Script Location</td><td><p>Details of the Ansible playbook or custom script.</p><ul>
<li>
<p><strong>URL</strong>: Raw URL of the Ansible playbook or ZIP file, or custom script on the online repository (GitHub, GitLab and BitBucket are supported). URL must be accessible to the Execution Servers.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The URL can accept parameters defined on the App, enabling you to test new versions of scripts without affecting consumer-ready versions. For example, you can have an App everyone is using, but if you want to test a version you&#x27;re developing, simply change the value of the URL parameter in the test blueprint.</p><ul>
<li>To use parameters, specify the parameter name in curly brackets (for example: <strong>{branch}</strong>).</li>
<li>If the App has this parameter, CloudShell will replace the <strong>{branch}</strong> with its value during execution.</li>
<li>If the parameter is missing, CloudShell will replace <strong>{branch}</strong> with an empty string.</li>
<li>If you are using a global input, customers would be well advised to set a default value on the global input</li>
</ul></div></div>
<p><strong>For GitHub, specify the raw URL. For example:</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">https</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">raw</span><span class="token regex regex-source language-regex char-set class-name" style="color:#36acaa">.</span><span class="token regex regex-source language-regex" style="color:#36acaa">githubusercontent</span><span class="token regex regex-source language-regex char-set class-name" style="color:#36acaa">.</span><span class="token regex regex-source language-regex" style="color:#36acaa">com</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token spread operator" style="color:#393A34">...</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">site</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>For GitLab, specify the API endpoint in the format:</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">https</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gitlab</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">com</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">api</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">v4</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">projects</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">Project</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">ID</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">repository</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">files</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">testsharding</span><span class="token operator" style="color:#393A34">%</span><span class="token plain">2Eyml</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">raw</span><span class="token operator" style="color:#393A34">?</span><span class="token plain">ref</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">master</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Where:</p>
<ul>
<li>
<p>Each special character that the file contains has to be encoded. In the example above - &quot;%2E” is an encoded point (&quot;.”)</p>
</li>
<li>
<p>The ref value is the branch name (master for this example)</p>
</li>
</ul>
<p><strong>For BitBucket Data Center (on premise), use the following URL format:</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">http</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">datacenter server </span><span class="token constant" style="color:#36acaa">IP</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">rest</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">api</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1.0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">projects</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">projectKey</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">repos</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">repository name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">raw</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">testsharding</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>For BitBucket Cloud, use one of the following:</strong></p>
<ul>
<li>
<p>For source code files, specify the API endpoint:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">https</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">bitbucket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">org</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">2.0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">repositories</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">workspace</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">repository name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">src</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token constant" style="color:#36acaa">GUID</span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> the </span><span class="token maybe-class-name">Commit</span><span class="token plain"> hash string</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">testsharding</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>For download files (files residing in the repository&#x27;s &quot;Downloads&quot; folder), specify this endpoint:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">https</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">bitbucket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">org</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">2.0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">repositories</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">workspace</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">repository name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">downloads</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">site</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>If the URL is private (HTTPS), the VM will need to have a valid SSL certificate. To disable the certificate check, open <strong>Resource Manager Client&gt;Resource Families&gt;Configuration Services</strong> (<strong>Ansible Configuration</strong> or <strong>Custom Script Configuration</strong>n) and set the <strong>Verify Certificate</strong> attribute to <strong>False</strong>.</p></div></div>
</li>
<li>
<p><strong>User/Password</strong>: (For private repositories) Access credentials or token to the script/playbook&#x27;s online repository.</p>
</li>
<li>
<p><strong>Token</strong>: (For private repositories) Access token to the script/playbook&#x27;s online repository.</p>
<p>For GitHub and GitLab, specify the API token. For BitBucket Cloud, set the repo&#x27;s &quot;App Password&quot; in the App template&#x27;s <strong>Password</strong> field. For BitBucket Data Center, specify the personal access token.</p>
</li>
</ul><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Notes:</div><div class="admonitionContent_BuS1"><ul>
<li><strong>For Custom Script configurations</strong>: In SSH mode, only bash and sh scripts are allowed. In WinRM mode, only PowerShell scripts are allowed. WinRM over HTTPS only applies to custom scripts at this time. If WinRM is configured to run over HTTPS, the execution server will first try to run the custom script over HTTPS and then fall back to HTTP if HTTPS is unsuccessful. To prevent the fallback, set the <strong>winrm_transport</strong> parameter to <strong>ssl</strong>.</li>
<li><strong>For Ansible configurations</strong>: The Ansible playbook must be a YML or YAML file. To specify multiple playbooks or a hierarchy of an Ansible project, you can specify multiple Ansible playbooks or a ZIP package. For example: <code>https://raw.githubusercontent.com/QualiSystemsLab/private-repo-zip-download/master/README.zip</code></li>
<li>If a ZIP containing 2 or more playbooks is specified, CloudShell will use the playbook file titled <code>site.yml</code> or <code>site.yaml</code>. If the file is missing, the App&#x27;s deployment will fail.</li>
</ul></div></div></td></tr><tr><td>Inventory Groups</td><td><p>(For Ansible) Specify the host groups for the application to be installed, separated by semicolons (;). The newly deployed VM will be associated to these groups, thus allowing plays that target these groups to run on the VM.</p><p>For example: <code>Servers/AppServers;Servers/DBServers</code></p></td></tr><tr><td>Parameters</td><td><p>Parameters to be passed to the Ansible playbook or custom script. Specify the parameters and their default values.</p><p>In the blueprint or sandbox diagram, privileged users can also set the parameter to receive the value that is specified for a global input when reserving a sandbox containing the App. This is done by selecting the global input when editing the App in the blueprint or sandbox diagram. For example, a global input that specifies the build number of a product to be tested or which components of a product to install.</p><div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>(For Ansible) To customize the port to be used to communicate with the VM, add the <code>Ansible_port</code> parameter. Default: <code>SSH</code> / <code>Port: 22</code> / <code>WinRM: 5985</code>.</p></div></div></td></tr><tr><td>Additional Arguments</td><td><p>(For Ansible) Define arguments to be passed to the execution of the playbook (<code>Ansible-playbook</code> command). For example, <code>-v</code> will set verbose mode on while <code>-f</code> will set the maximum number of VMs to be handled in parallel. Multiple arguments can be given, separated by spaces. For additional information on possible arguments, see the official Ansible documentation.</p><p>The arguments must be specified in <strong>Resource Manager Client &gt; Configuration Services</strong> family &gt; <strong>Ansible Configuration</strong> model &gt; <strong>Ansible Additional Arguments</strong> attribute.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The arguments are defined globally for all Apps using Ansible.</p></div></div><div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>To configure Ansible to connect to certified hosts only (Linux VMs with a valid &#x27;known_hosts&#x27; key), include the following additional arguments: <code>--ssh-extra-args=&#x27;-o StrictHostKeyChecking=yes&#x27;</code></p></div></div></td></tr></tbody></table>
</li>
<li>
<p>To enable the end-user to rerun the App&#x27;s configuration management on the deployed App in the sandbox, select <strong>Allow rerunning configuration management for resources deployed from the App</strong>. Once the App&#x27;s deployment completes, a <strong>Rerun Configuration Management</strong> command is included in the deployed App&#x27;s <strong>Application Commands</strong> pane. For details, see <a href="/next/portal/sandboxes/sandbox-workspace/apps/run-app-commands">Run App Commands</a>. This is useful for rolling back the App&#x27;s VM to its original state.</p>
</li>
<li>
<p>To enable blueprint and sandbox owners to modify the App&#x27;s Configuration Management details, select <strong>Allow blueprint/sandbox owners to modify the App&#x27;s Configuration Management</strong>. The following details can be modified: playbook/script, authentication details, inventory groups, and parameters. Note that the modifications only apply to the blueprint or sandbox of the instance.</p>
</li>
<li>
<p>Optionally click the <strong>Add New Script/Playbook</strong> link at the bottom right to add additional custom scripts/Ansible playbooks to the App. The scripts will run in their display order, from top to bottom. You can drag scripts up or down to rearrange.</p>
</li>
<li>
<p>To change the script&#x27;s alias, click the script&#x27;s name and change as appropriate.</p>
</li>
</ol>
<p><img decoding="async" loading="lazy" src="/assets/images/RenameConfigManageScript-d4a736c75b198050f3aa8289b15522a4.png" width="804" height="315" class="img_ev3q"></p>
</li>
<li>
<p>In the left pane, click <strong>App Resource</strong> to optionally set the VM&#x27;s operating system user credentials (for example, to connect to the VM via RDP or SSH). You can also change the deployed App&#x27;s Shell.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/AppResource-914db8e4f76415cff1b1a50045caddb1.png" width="722" height="390" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>To help sandbox end-users connect to the VM, it is recommended to include the <strong>User</strong> and <strong>Password</strong> in the blueprint&#x27;s instructions. For additional information, see <a href="/next/portal/blueprints/creating-blueprints/add-instructions">Add Instructions</a>.</p></div></div>
<table><thead><th>Attribute</th><th>Description</th></thead><tbody><tr><td>Shell</td><td><p>The Shell on which the App&#x27;s VMs are based. When an App is deployed in a sandbox, it changes into a &quot;deployed App resource&quot;, which is based on the selected Shell. By default, the &quot;Generic App Model&quot; Shell is used.</p><p>Deployed Apps include a default set of commands such as Power On and Refresh IP, and the VM&#x27;s <strong>User</strong> and <strong>Password</strong> attributes, as explained below.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Changing the Shell might cause additional fields to become visible and you may need to enter further information.</p></div></div></td></tr><tr><td>User</td><td><p>User defined in the App&#x27;s image. The <strong>User/Password</strong> credentials are used by QualiX to create in-browser connections to the VM from within the sandbox.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Notes:</div><div class="admonitionContent_BuS1"><ul>
<li>For AWS instances, make sure to set the <strong>User</strong> of a user that already exists on the Amazon machine image. For custom images, the image owner should know the credentials, while community/marketplace images have the image&#x27;s credentials listed in their documentation.</li>
<li>Azure VM username and password restrictions apply. For details, see <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/faq" target="_blank" rel="noopener noreferrer">Frequently asked question about Windows Virtual Machines</a>.</li>
<li>For Azure Marketplace images, CloudShell will create a user on the VM based on the <strong>User/Password</strong> credentials you specify.</li>
<li>For Azure Marketplace VMs, if the user is not set, CloudShell will set <strong>adminuser</strong> as the default user name.</li>
</ul></div></div></td></tr><tr><td>Password</td><td><p>VM user&#x27;s password.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Notes:</div><div class="admonitionContent_BuS1"><ul>
<li>For AWS Marketplace images, leave the <strong>Password</strong> empty. The AWS shell generates a new key-pair for each sandbox, which QualiX will use to establish the in-browser connection.</li>
<li>For Azure Marketplace images:<!-- -->
<ul>
<li>If the password is not set, only the user name will be required. For Linux VMs, CloudShell will create an SSH key-pair to enable a secure connection.</li>
<li>If the password is set, it will be displayed as asterisks (******) in the blueprint or sandbox.</li>
</ul>
</li>
</ul></div></div></td></tr></tbody></table>
</li>
<li>
<p>Click <strong>Done</strong>.</p>
<p>The new App template is displayed in the <strong>Apps</strong> page.</p>
</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/QualiSystems/cloudshell-help/tree/main/docs/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/add-an-azure-app-template.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/add-an-azure-cloud-provider-resource"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Add an Azure Cloud Provider Resource</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/next/admin/supported-cloud-providers-in-cloudshell/public-cloud-provider-support-in-cloudshell/microsoft-azure-integration-and-configuration/microsoft-azure-integration/configure-an-execution-server-selector-for-azure"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configure an Execution Server Selector for Azure</div></a></nav></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://quali.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Quali Website</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="http://community.quali.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">CloudShell Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://quali.com/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Quali&#x27;s Blog</a></li><li class="footer__item"><a href="https://support.quali.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Quali Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Quali, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>